import{r as v,u as S,a as N,j as e,c as P,P as l,b as x,s as k,f,i as A,d as T,e as L,g as I,h as q,O as M}from"./index-0477fe38.js";import{u as R,C as $,s as U,a as D,b as O,c as E,d as w,o as H,e as z,A as j,S as W,I as X,B as G,p as K}from"./index.esm-f6b27ee7.js";const B=v.forwardRef(({as:c,bsPrefix:o,variant:n="primary",size:u,active:s=!1,disabled:r=!1,className:p,...i},g)=>{const t=S(o,"btn"),[d,{tagName:F}]=N({tagName:c,disabled:r,...i}),_=F;return e.jsx(_,{...d,...i,ref:g,disabled:r,className:P(p,t,s&&"active",n&&`${t}-${n}`,u&&`${t}-${u}`,i.href&&r&&"disabled")})});B.displayName="Button";const V=B,Z="_advertCard_u4win_1",J="_favoriteBtn_u4win_9",Q="_favoriteIcon_u4win_17",Y="_advertImage_u4win_22",ee="_advertCardTitle_u4win_35",re="_model_u4win_46",te="_rentalPrice_u4win_50",ae="_advertCardBody_u4win_54",ne="_advertCardBtn_u4win_65",h={advertCard:Z,favoriteBtn:J,favoriteIcon:Q,advertImage:Y,advertCardTitle:ee,model:re,rentalPrice:te,advertCardBody:ae,advertCardBtn:ne},b=c=>{const{onAddFavoriteAdvert:o,setFavoriteIconStatus:n}=R(),[u,s]=v.useState(!1),r={...c};return e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:h.advertCard,children:[e.jsx("button",{id:r.id,type:"button",title:n(r.id,"title"),className:h.favoriteBtn,onClick:o,children:e.jsx("svg",{className:h.favoriteIcon,width:"18",height:"18",viewBox:"0 0 18 18",fill:n(r.id,"fill"),xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M15.6301 3.45753C15.247 3.07428 14.7922 2.77026 14.2916 2.56284C13.791 2.35542 13.2545 2.24866 12.7126 2.24866C12.1707 2.24866 11.6342 2.35542 11.1336 2.56284C10.633 2.77026 10.1782 3.07428 9.79509 3.45753L9.00009 4.25253L8.20509 3.45753C7.43132 2.68376 6.38186 2.24906 5.28759 2.24906C4.19331 2.24906 3.14386 2.68376 2.37009 3.45753C1.59632 4.2313 1.16162 5.28075 1.16162 6.37503C1.16162 7.4693 1.59632 8.51876 2.37009 9.29253L3.16509 10.0875L9.00009 15.9225L14.8351 10.0875L15.6301 9.29253C16.0133 8.90946 16.3174 8.45464 16.5248 7.95404C16.7322 7.45345 16.839 6.91689 16.839 6.37503C16.839 5.83316 16.7322 5.2966 16.5248 4.79601C16.3174 4.29542 16.0133 3.84059 15.6301 3.45753Z",stroke:n(r.id,"stroke"),strokeOpacity:"0.8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("img",{src:r.img,title:`${r.make} ${r.model} ${r.year}`,alt:`${r.make} ${r.model} ${r.year}`,className:h.advertImage}),e.jsxs("div",{className:h.advertCardTitle,children:[r.make,e.jsxs("span",{className:h.model,children:[r.model,","]}),r.year,e.jsxs("span",{className:h.rentalPrice,children:["$",r.rentalPrice]})]}),e.jsxs("div",{className:h.advertCardBody,children:[r.address.city," | ",r.address.country," |"," ",r.rentalCompany," | ",r.type," | ",r.id," |"," ",r.accessories[0]," | ",r.functionalities[0]]}),e.jsx("button",{className:h.advertCardBtn,title:"Learn more",onClick:()=>{s(!0)},children:"Learn more"})]}),e.jsx($,{show:u,setShow:s,carProps:r})]})};b.propTypes={make:l.string.isRequired,model:l.string.isRequired,year:l.number.isRequired,rentalPrice:l.number.isRequired,address:l.objectOf(l.string).isRequired,rentalCompany:l.string.isRequired,type:l.string.isRequired,mileage:l.string.isRequired,accessories:l.arrayOf(l.string).isRequired,functionalities:l.arrayOf(l.string).isRequired,img:l.string.isRequired};const se=()=>{const c=x(U),o=x(D),n=x(O),u=x(E),s=w(),r=()=>{s(k({page:1,limit:12})),s(f())},p=()=>{s(A()),s(f())},i=c.map(d=>({...d,address:{city:d.address.split(", ")[1],country:d.address.split(", ")[2]},mileage:d.mileage.toLocaleString("en"),rentalConditions:{age:d.rentalConditions.substring(0,11),ageNumber:d.rentalConditions.substring(13,15),license:d.rentalConditions.substring(16,38),required:d.rentalConditions.substring(39)},rentalPrice:+d.rentalPrice.substring(1)})),g=i.length===n*12,t=i.length===0;return{adverts:c,updatedAdverts:i,isLoading:o,error:u,dispatch:s,onLoadMore:p,showButton:g,showNoMatchMessage:t,onFetchAdverts:r,page:n}},oe="_advertsContainer_1970q_1",ie="_advertsList_1970q_10",ce="_loadMoreBtn_1970q_19",le="_noMatchMessageContainer_1970q_41",de="_noMatchMessage_1970q_41",ue="_noMatchMessageTitle_1970q_58",me="_noMatchMessageText_1970q_59",C={advertsContainer:oe,advertsList:ie,loadMoreBtn:ce,noMatchMessageContainer:le,noMatchMessage:de,noMatchMessageTitle:ue,noMatchMessageText:me},pe=()=>{const{updatedAdverts:c,isLoading:o,error:n,dispatch:u,onLoadMore:s,showButton:r,showNoMatchMessage:p,onFetchAdverts:i,page:g}=se();return v.useEffect(()=>{if(n){H(n);return}else if(g)return;i(),z()},[n,u,g,i]),e.jsxs(e.Fragment,{children:[o&&e.jsx(T,{}),e.jsxs("div",{className:C.advertsContainer,children:[e.jsx("ul",{className:C.advertsList,children:c.map(t=>e.jsx(b,{make:t.make,model:t.model,year:t.year,rentalPrice:t.rentalPrice,address:t.address,rentalCompany:t.rentalCompany,type:t.type,mileage:t.mileage,accessories:t.accessories,functionalities:t.functionalities,img:t.img,id:t.id,description:t.description,fuelConsumption:t.fuelConsumption,engineSize:t.engineSize,rentalConditions:t.rentalConditions},t.id))}),!o&&p&&e.jsx("div",{className:C.noMatchMessageContainer,children:e.jsxs(j,{variant:"primary",className:C.noMatchMessage,children:[e.jsx(j.Heading,{className:C.noMatchMessageTitle,children:"No Results"}),"We apologize, but we couldn`t find any results matching your query.",e.jsx("hr",{}),e.jsx("p",{className:C.noMatchMessageText,children:"Please try again!"})]})}),!o&&r&&e.jsx("button",{className:C.loadMoreBtn,type:"button",title:"Load more",onClick:()=>{s()},children:"Load more"})]}),e.jsx(W,{smooth:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"60px",height:"60px",borderRadius:"8px",backgroundColor:"#0d6efd",boxShadow:"2px 2px 5px 0px rgba(0, 0, 0, 0.75)"},component:e.jsx(X.Provider,{value:{color:"#F7F7FB",size:"3.65em"},children:e.jsx("div",{children:e.jsx(G,{})})})})]})},he=c=>c.advertsFilter.filter,ge=()=>{const c=x(he),o=w();return{filter:c,onChangeCarFilter:r=>{o(L({[r.target.id]:r.target.value}))},clearFilter:r=>{o(I({[r]:""}))},getFilteredAdverts:()=>{o(q())}}},Ce=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Chrysler","Kia","Land"],_e="_carFilterFormContainer_1ecrp_8",ve="_offCanvasContainer_1ecrp_14",xe="_offCanvasTitle_1ecrp_19",Fe="_carFilterForm_1ecrp_8",Me="_carBrandContainer_1ecrp_44",fe="_carBrandSelectContainer_1ecrp_49",je="_carBrandSelect_1ecrp_49",we="_selectArrowDown_1ecrp_76",Be="_selectArrowUp_1ecrp_84 _selectArrowDown_1ecrp_76",be="_carPriceSelect_1ecrp_90",ye="_carMileageFromInput_1ecrp_91",Se="_carMileageToInput_1ecrp_92",Ne="_clearFilterBtn_1ecrp_97",Pe="_carPriceContainer_1ecrp_118",ke="_carPriceSelectContainer_1ecrp_123",Ae="_carMileageFromContainer_1ecrp_150",Te="_carMileageFromInputContainer_1ecrp_155",Le="_carMileageToContainer_1ecrp_185",Ie="_carMileageToInputContainer_1ecrp_190",qe="_carFilterSubmitBtn_1ecrp_221",a={carFilterFormContainer:_e,offCanvasContainer:ve,offCanvasTitle:xe,carFilterForm:Fe,carBrandContainer:Me,carBrandSelectContainer:fe,carBrandSelect:je,selectArrowDown:we,selectArrowUp:Be,carPriceSelect:be,carMileageFromInput:ye,carMileageToInput:Se,clearFilterBtn:Ne,carPriceContainer:Pe,carPriceSelectContainer:ke,carMileageFromContainer:Ae,carMileageFromInputContainer:Te,carMileageToContainer:Le,carMileageToInputContainer:Ie,carFilterSubmitBtn:qe},Re=()=>{const[c,o]=v.useState(!1),[n,u]=v.useState(!1),[s,r]=v.useState(!1),{onChangeCarFilter:p,clearFilter:i,getFilteredAdverts:g,filter:t}=ge(),d=()=>{o(!0)},F=()=>{o(!1)},_=m=>{m==="brand"?u(!n):r(!s)},y=m=>{m.preventDefault(),g(),F()};return e.jsxs("div",{className:a.carFilterFormContainer,children:[e.jsx(V,{variant:"outline-primary",className:"d-lg-none",title:"Filter",onClick:d,style:{padding:"0px 20px",marginBottom:"25px",fontSize:"18px",letterSpacing:"0.08em",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"},children:"Filter"}),e.jsxs(M,{className:a.offCanvasContainer,show:c,onHide:F,responsive:"lg",children:[e.jsx(M.Header,{closeButton:!0,children:e.jsx(M.Title,{className:a.offCanvasTitle,children:"Filter"})}),e.jsx(M.Body,{children:e.jsxs("form",{className:a.carFilterForm,onSubmit:y,children:[e.jsxs("div",{className:a.carBrandContainer,children:[e.jsx("label",{htmlFor:"make",children:"Car brand"}),e.jsxs("div",{className:a.carBrandSelectContainer,children:[e.jsxs("select",{className:a.carBrandSelect,id:"make",name:"make",title:"Select brand",onChange:p,onClick:()=>{_("brand")},onBlur:()=>{n&&_("brand")},value:t.make,children:[e.jsx("option",{value:"",children:"Select brand"}),Ce.map(m=>e.jsx("option",{className:a.brandSelectOption,value:m,children:m},m))]}),e.jsx("svg",{className:n?a.selectArrowUp:a.selectArrowDown,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#121417",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("button",{className:a.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{i("make")},children:"X"})]})]}),e.jsxs("div",{className:a.carPriceContainer,children:[e.jsx("label",{htmlFor:"rentalPrice",children:"Price/ 1 hour"}),e.jsxs("div",{className:a.carPriceSelectContainer,children:[e.jsxs("select",{className:a.carPriceSelect,id:"rentalPrice",name:"rentalPrice",title:"Price per hour",onChange:p,onClick:()=>{_("price")},onBlur:()=>{s&&_("price")},value:t.rentalPrice,children:[e.jsx("option",{value:"",children:"To $"}),K.map(m=>e.jsx("option",{value:m,children:m},m))]}),e.jsx("svg",{className:s?a.selectArrowUp:a.selectArrowDown,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#121417",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("button",{className:a.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{i("rentalPrice")},children:"X"})]})]}),e.jsxs("div",{className:a.carMileageFromContainer,children:[e.jsx("label",{htmlFor:"mileageFrom",children:"Car mileage / km"}),e.jsxs("div",{className:a.carMileageFromInputContainer,children:[e.jsx("input",{className:a.carMileageFromInput,type:"number",id:"mileageFrom",name:"mileageFrom",title:"Mileage from",onChange:p,value:t.mileageFrom,style:{width:"160px"}}),e.jsx("button",{type:"button",className:a.clearFilterBtn,title:"Clear filter",onClick:()=>{i("mileageFrom")},children:"X"})]})]}),e.jsx("div",{className:a.carMileageToContainer,children:e.jsxs("div",{className:a.carMileageToInputContainer,children:[e.jsx("input",{className:a.carMileageToInput,type:"number",id:"mileageTo",name:"mileageTo",title:"Mileage to",onChange:p,value:t.mileageTo,style:{width:"160px"},min:0}),e.jsx("button",{className:a.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{i("mileageTo")},children:"X"})]})}),e.jsx("button",{type:"submit",className:a.carFilterSubmitBtn,title:"Search",children:"Search"})]})})]})]})},De=()=>e.jsxs("section",{children:[e.jsx(Re,{}),e.jsx(pe,{})]});export{De as default};
