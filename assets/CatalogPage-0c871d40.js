import{r as x,u as B,a as y,j as e,c as N,P as c,b as C,s as S,f as _,i as P,d as T,e as k,g as L,h as I,O as p}from"./index-64cbdc38.js";import{u as A,C as R,s as $,a as q,b as z,c as E,d as M,o as H,e as O,A as F,S as W,I as D,B as U,p as G}from"./index.esm-539257a8.js";const f=x.forwardRef(({as:o,bsPrefix:l,variant:s="primary",size:n,active:i=!1,disabled:r=!1,className:h,...d},v)=>{const a=B(l,"btn"),[m,{tagName:b}]=y({tagName:o,disabled:r,...d}),w=b;return e.jsx(w,{...m,...d,ref:v,disabled:r,className:N(h,a,i&&"active",s&&`${a}-${s}`,n&&`${a}-${n}`,d.href&&r&&"disabled")})});f.displayName="Button";const K=f,V="_advertCard_1bpdi_1",Z="_favoriteBtn_1bpdi_9",J="_favoriteIcon_1bpdi_17",Q="_advertImage_1bpdi_22",X="_advertCardTitle_1bpdi_35",Y="_model_1bpdi_46",ee="_rentalPrice_1bpdi_50",re="_advertCardBody_1bpdi_54",ae="_advertCardBtn_1bpdi_65",u={advertCard:V,favoriteBtn:Z,favoriteIcon:J,advertImage:Q,advertCardTitle:X,model:Y,rentalPrice:ee,advertCardBody:re,advertCardBtn:ae},j=o=>{const{onAddFavoriteAdvert:l,setFavoriteIconStatus:s}=A(),[n,i]=x.useState(!1),r={...o};return e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:u.advertCard,children:[e.jsx("button",{id:r.id,type:"button",title:s(r.id,"title"),className:u.favoriteBtn,onClick:l,children:e.jsx("svg",{className:u.favoriteIcon,width:"18",height:"18",viewBox:"0 0 18 18",fill:s(r.id,"fill"),xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M15.6301 3.45753C15.247 3.07428 14.7922 2.77026 14.2916 2.56284C13.791 2.35542 13.2545 2.24866 12.7126 2.24866C12.1707 2.24866 11.6342 2.35542 11.1336 2.56284C10.633 2.77026 10.1782 3.07428 9.79509 3.45753L9.00009 4.25253L8.20509 3.45753C7.43132 2.68376 6.38186 2.24906 5.28759 2.24906C4.19331 2.24906 3.14386 2.68376 2.37009 3.45753C1.59632 4.2313 1.16162 5.28075 1.16162 6.37503C1.16162 7.4693 1.59632 8.51876 2.37009 9.29253L3.16509 10.0875L9.00009 15.9225L14.8351 10.0875L15.6301 9.29253C16.0133 8.90946 16.3174 8.45464 16.5248 7.95404C16.7322 7.45345 16.839 6.91689 16.839 6.37503C16.839 5.83316 16.7322 5.2966 16.5248 4.79601C16.3174 4.29542 16.0133 3.84059 15.6301 3.45753Z",stroke:s(r.id,"stroke"),strokeOpacity:"0.8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("img",{src:r.img,title:`${r.make} ${r.model} ${r.year}`,alt:`${r.make} ${r.model} ${r.year}`,className:u.advertImage}),e.jsxs("div",{className:u.advertCardTitle,children:[r.make,e.jsxs("span",{className:u.model,children:[r.model,","]}),r.year,e.jsxs("span",{className:u.rentalPrice,children:["$",r.rentalPrice]})]}),e.jsxs("div",{className:u.advertCardBody,children:[r.address.city," | ",r.address.country," |"," ",r.rentalCompany," | ",r.type," | ",r.mileage," |"," ",r.accessories[0]," | ",r.functionalities[0]]}),e.jsx("button",{className:u.advertCardBtn,title:"Learn more",onClick:()=>{i(!0)},children:"Learn more"})]}),e.jsx(R,{show:n,setShow:i,carProps:r})]})};j.propTypes={make:c.string.isRequired,model:c.string.isRequired,year:c.number.isRequired,rentalPrice:c.number.isRequired,address:c.objectOf(c.string).isRequired,rentalCompany:c.string.isRequired,type:c.string.isRequired,mileage:c.number.isRequired,accessories:c.arrayOf(c.string).isRequired,functionalities:c.arrayOf(c.string).isRequired,img:c.string.isRequired};const te=()=>{const o=C($),l=C(q),s=C(z),n=C(E),i=M(),r=()=>{i(S({page:1,limit:12})),i(_())},h=()=>{i(P()),i(_())},d=o.map(m=>({...m,address:{city:m.address.split(", ")[1],country:m.address.split(", ")[2]},mileage:+(m.mileage/1e3).toFixed(3),rentalConditions:{age:m.rentalConditions.substring(0,11),ageNumber:m.rentalConditions.substring(13,15),license:m.rentalConditions.substring(16,38),required:m.rentalConditions.substring(39)},rentalPrice:+m.rentalPrice.substring(1)})),v=d.length===s*12,a=d.length===0;return{adverts:o,updatedAdverts:d,isLoading:l,error:n,dispatch:i,onLoadMore:h,showButton:v,showNoMatchMessage:a,onFetchAdverts:r}},se="_advertsContainer_p47z2_1",ne="_advertsList_p47z2_10",ie="_loadMoreBtn_p47z2_19",oe="_noMatchMessageContainer_p47z2_41",le="_noMatchMessage_p47z2_41",ce="_noMatchMessageTitle_p47z2_58",de="_noMatchMessageText_p47z2_59",g={advertsContainer:se,advertsList:ne,loadMoreBtn:ie,noMatchMessageContainer:oe,noMatchMessage:le,noMatchMessageTitle:ce,noMatchMessageText:de},me=()=>{const{adverts:o,updatedAdverts:l,isLoading:s,error:n,dispatch:i,onLoadMore:r,showButton:h,showNoMatchMessage:d,onFetchAdverts:v}=te();return x.useEffect(()=>{if(n){H(n);return}else if(o.length!==0)return;v(),O()},[i,n]),e.jsxs(e.Fragment,{children:[s&&e.jsx(T,{}),e.jsxs("div",{className:g.advertsContainer,children:[e.jsx("ul",{className:g.advertsList,children:l.map(a=>e.jsx(j,{make:a.make,model:a.model,year:a.year,rentalPrice:a.rentalPrice,address:a.address,rentalCompany:a.rentalCompany,type:a.type,mileage:a.mileage,accessories:a.accessories,functionalities:a.functionalities,img:a.img,id:a.id,description:a.description,fuelConsumption:a.fuelConsumption,engineSize:a.engineSize,rentalConditions:a.rentalConditions},a.id))}),!s&&d&&e.jsx("div",{className:g.noMatchMessageContainer,children:e.jsxs(F,{variant:"primary",className:g.noMatchMessage,children:[e.jsx(F.Heading,{className:g.noMatchMessageTitle,children:"No Results"}),"We apologize, but we couldn't find any results matching your query.",e.jsx("hr",{}),e.jsx("p",{className:g.noMatchMessageText,children:"Please try again!"})]})}),!s&&h&&e.jsx("button",{className:g.loadMoreBtn,type:"button",title:"Load more",onClick:()=>{r()},children:"Load more"})]}),e.jsx(W,{smooth:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"60px",height:"60px",borderRadius:"8px",backgroundColor:"#0d6efd",boxShadow:"2px 2px 5px 0px rgba(0, 0, 0, 0.75)"},component:e.jsx(D.Provider,{value:{color:"#F7F7FB",size:"3.65em"},children:e.jsx("div",{children:e.jsx(U,{})})})})]})},ue=o=>o.advertsFilter.filter,he=()=>{const o=C(ue),l=M();return{filter:o,onChangeCarFilter:r=>{l(k({[r.target.id]:r.target.value}))},clearFilter:r=>{l(L({[r]:""}))},getFilteredAdverts:()=>{l(I())}}},ve=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Chrysler","Kia","Land"],ge="_carFilterFormContainer_1vwv5_8",Ce="_offCanvasContainer_1vwv5_14",pe="_offCanvasTitle_1vwv5_19",xe="_carFilterForm_1vwv5_8",_e="_carBrandContainer_1vwv5_44",Fe="_carBrandSelectContainer_1vwv5_49",Me="_carBrandSelect_1vwv5_49",fe="_selectArrow_1vwv5_75",je="_carPriceSelect_1vwv5_83",be="_carMileageFromInput_1vwv5_84",we="_carMileageToInput_1vwv5_85",Be="_clearFilterBtn_1vwv5_89",ye="_carPriceContainer_1vwv5_109",Ne="_carPriceSelectContainer_1vwv5_114",Se="_carMileageFromContainer_1vwv5_140",Pe="_carMileageFromInputContainer_1vwv5_145",Te="_carMileageToContainer_1vwv5_166",ke="_carMileageToInputContainer_1vwv5_171",Le="_carFilterSubmitBtn_1vwv5_187",t={carFilterFormContainer:ge,offCanvasContainer:Ce,offCanvasTitle:pe,carFilterForm:xe,carBrandContainer:_e,carBrandSelectContainer:Fe,carBrandSelect:Me,selectArrow:fe,carPriceSelect:je,carMileageFromInput:be,carMileageToInput:we,clearFilterBtn:Be,carPriceContainer:ye,carPriceSelectContainer:Ne,carMileageFromContainer:Se,carMileageFromInputContainer:Pe,carMileageToContainer:Te,carMileageToInputContainer:ke,carFilterSubmitBtn:Le},Ie=()=>{const[o,l]=x.useState(!1),{onChangeCarFilter:s,clearFilter:n,getFilteredAdverts:i,filter:r}=he(),h=()=>{l(!0)},d=()=>{l(!1)},v=a=>{a.preventDefault(),i(),d()};return e.jsxs("div",{className:t.carFilterFormContainer,children:[e.jsx(K,{variant:"outline-primary",className:"d-lg-none",title:"Filter",onClick:h,style:{padding:"0px 20px",marginBottom:"25px",fontSize:"18px",letterSpacing:"0.08em",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"},children:"Filter"}),e.jsxs(p,{className:t.offCanvasContainer,show:o,onHide:d,responsive:"lg",children:[e.jsx(p.Header,{closeButton:!0,children:e.jsx(p.Title,{className:t.offCanvasTitle,children:"Filter"})}),e.jsx(p.Body,{children:e.jsxs("form",{className:t.carFilterForm,onSubmit:v,children:[e.jsxs("div",{className:t.carBrandContainer,children:[e.jsx("label",{htmlFor:"make",children:"Car brand"}),e.jsxs("div",{className:t.carBrandSelectContainer,children:[e.jsxs("select",{className:t.carBrandSelect,id:"make",name:"make",title:"Select brand",onChange:s,value:r.make,children:[e.jsx("option",{value:"",children:"Select brand"}),ve.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx("svg",{className:t.selectArrow,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#121417",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("button",{className:t.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{n("make")},children:"x"})]})]}),e.jsxs("div",{className:t.carPriceContainer,children:[e.jsx("label",{htmlFor:"rentalPrice",children:"Price/ 1 hour"}),e.jsxs("div",{className:t.carPriceSelectContainer,children:[e.jsxs("select",{className:t.carPriceSelect,id:"rentalPrice",name:"rentalPrice",title:"Price per hour",onChange:s,value:r.rentalPrice,children:[e.jsx("option",{value:"",children:"To $"}),G.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx("svg",{className:t.selectArrow,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#121417",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("button",{className:t.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{n("rentalPrice")},children:"x"})]})]}),e.jsxs("div",{className:t.carMileageFromContainer,children:[e.jsx("label",{htmlFor:"mileageFrom",children:"Car mileage / km"}),e.jsxs("div",{className:t.carMileageFromInputContainer,children:[e.jsx("input",{className:t.carMileageFromInput,type:"number",id:"mileageFrom",name:"mileageFrom",title:"Mileage from",onChange:s,value:r.mileageFrom,placeholder:"From",style:{width:"160px"},min:0}),e.jsx("button",{type:"button",className:t.clearFilterBtn,title:"Clear filter",onClick:()=>{n("mileageFrom")},children:"x"})]})]}),e.jsx("div",{className:t.carMileageToContainer,children:e.jsxs("div",{className:t.carMileageToInputContainer,children:[e.jsx("input",{className:t.carMileageToInput,type:"number",id:"mileageTo",name:"mileageTo",title:"Mileage to",onChange:s,value:r.mileageTo,placeholder:"To",style:{width:"160px"},min:0}),e.jsx("button",{className:t.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{n("mileageTo")},children:"x"})]})}),e.jsx("button",{type:"submit",className:t.carFilterSubmitBtn,title:"Search",children:"Search"})]})})]})]})},$e=()=>e.jsxs("section",{children:[e.jsx(Ie,{}),e.jsx(me,{})]});export{$e as default};
