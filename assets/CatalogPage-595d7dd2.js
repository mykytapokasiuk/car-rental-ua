import{r as x,u as S,a as N,j as e,c as k,P as l,b as v,s as P,f,i as A,d as T,e as L,g as I,h as q,O as M}from"./index-828999a1.js";import{u as R,C as $,s as U,a as D,b as O,c as E,d as B,o as H,e as z,A as j,S as W,I as X,B as G,p as K}from"./index.esm-12c374b2.js";const w=x.forwardRef(({as:c,bsPrefix:o,variant:n="primary",size:m,active:s=!1,disabled:r=!1,className:h,...i},C)=>{const t=S(o,"btn"),[d,{tagName:F}]=N({tagName:c,disabled:r,...i}),_=F;return e.jsx(_,{...d,...i,ref:C,disabled:r,className:k(h,t,s&&"active",n&&`${t}-${n}`,m&&`${t}-${m}`,i.href&&r&&"disabled")})});w.displayName="Button";const V=w,Z="_advertCard_1gksh_1",J="_favoriteBtn_1gksh_9",Q="_favoriteIcon_1gksh_17",Y="_advertImage_1gksh_22",ee="_advertCardTitle_1gksh_35",re="_model_1gksh_46",te="_rentalPrice_1gksh_50",ae="_advertCardBody_1gksh_54",ne="_advertCardBtn_1gksh_65",g={advertCard:Z,favoriteBtn:J,favoriteIcon:Q,advertImage:Y,advertCardTitle:ee,model:re,rentalPrice:te,advertCardBody:ae,advertCardBtn:ne},b=c=>{const{onAddFavoriteAdvert:o,setFavoriteIconStatus:n}=R(),[m,s]=x.useState(!1),r={...c};return e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:g.advertCard,children:[e.jsx("button",{id:r.id,type:"button",title:n(r.id,"title"),className:g.favoriteBtn,onClick:o,children:e.jsx("svg",{className:g.favoriteIcon,width:"18",height:"18",viewBox:"0 0 18 18",fill:n(r.id,"fill"),xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M15.6301 3.45753C15.247 3.07428 14.7922 2.77026 14.2916 2.56284C13.791 2.35542 13.2545 2.24866 12.7126 2.24866C12.1707 2.24866 11.6342 2.35542 11.1336 2.56284C10.633 2.77026 10.1782 3.07428 9.79509 3.45753L9.00009 4.25253L8.20509 3.45753C7.43132 2.68376 6.38186 2.24906 5.28759 2.24906C4.19331 2.24906 3.14386 2.68376 2.37009 3.45753C1.59632 4.2313 1.16162 5.28075 1.16162 6.37503C1.16162 7.4693 1.59632 8.51876 2.37009 9.29253L3.16509 10.0875L9.00009 15.9225L14.8351 10.0875L15.6301 9.29253C16.0133 8.90946 16.3174 8.45464 16.5248 7.95404C16.7322 7.45345 16.839 6.91689 16.839 6.37503C16.839 5.83316 16.7322 5.2966 16.5248 4.79601C16.3174 4.29542 16.0133 3.84059 15.6301 3.45753Z",stroke:n(r.id,"stroke"),strokeOpacity:"0.8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("img",{src:r.img,title:`${r.make} ${r.model} ${r.year}`,alt:`${r.make} ${r.model} ${r.year}`,className:g.advertImage}),e.jsxs("h2",{className:g.advertCardTitle,children:[r.make,e.jsxs("span",{className:g.model,children:[r.model,","]}),r.year,e.jsxs("span",{className:g.rentalPrice,children:["$",r.rentalPrice]})]}),e.jsxs("p",{className:g.advertCardBody,children:[r.address.city," | ",r.address.country," |"," ",r.rentalCompany," | ",r.type," | ",r.id," |"," ",r.accessories[0]," | ",r.functionalities[0]]}),e.jsx("button",{className:g.advertCardBtn,title:"Learn more",onClick:()=>{s(!0)},children:"Learn more"})]}),e.jsx($,{show:m,setShow:s,carProps:r})]})};b.propTypes={make:l.string.isRequired,model:l.string.isRequired,year:l.number.isRequired,rentalPrice:l.number.isRequired,address:l.objectOf(l.string).isRequired,rentalCompany:l.string.isRequired,type:l.string.isRequired,mileage:l.string.isRequired,accessories:l.arrayOf(l.string).isRequired,functionalities:l.arrayOf(l.string).isRequired,img:l.string.isRequired};const se=()=>{const c=v(U),o=v(D),n=v(O),m=v(E),s=B(),r=()=>{s(P({page:1,limit:12})),s(f())},h=()=>{s(A()),s(f())},i=c.map(d=>({...d,address:{city:d.address.split(", ")[1],country:d.address.split(", ")[2]},mileage:d.mileage.toLocaleString("en"),rentalConditions:{age:d.rentalConditions.substring(0,11),ageNumber:d.rentalConditions.substring(13,15),license:d.rentalConditions.substring(16,38),required:d.rentalConditions.substring(39)},rentalPrice:+d.rentalPrice.substring(1)})),C=i.length===n*12,t=i.length===0;return{adverts:c,updatedAdverts:i,isLoading:o,error:m,dispatch:s,onLoadMore:h,showButton:C,showNoMatchMessage:t,onFetchAdverts:r,page:n}},oe="_advertsContainer_1970q_1",ie="_advertsList_1970q_10",ce="_loadMoreBtn_1970q_19",le="_noMatchMessageContainer_1970q_41",de="_noMatchMessage_1970q_41",me="_noMatchMessageTitle_1970q_58",ue="_noMatchMessageText_1970q_59",p={advertsContainer:oe,advertsList:ie,loadMoreBtn:ce,noMatchMessageContainer:le,noMatchMessage:de,noMatchMessageTitle:me,noMatchMessageText:ue},he=()=>{const{updatedAdverts:c,isLoading:o,error:n,dispatch:m,onLoadMore:s,showButton:r,showNoMatchMessage:h,onFetchAdverts:i,page:C}=se();return x.useEffect(()=>{if(n){H(n);return}else if(C)return;i(),z()},[n,m,C,i]),e.jsxs(e.Fragment,{children:[o&&e.jsx(T,{}),e.jsxs("div",{className:p.advertsContainer,children:[e.jsx("ul",{className:p.advertsList,children:c.map(t=>e.jsx(b,{make:t.make,model:t.model,year:t.year,rentalPrice:t.rentalPrice,address:t.address,rentalCompany:t.rentalCompany,type:t.type,mileage:t.mileage,accessories:t.accessories,functionalities:t.functionalities,img:t.img,id:t.id,description:t.description,fuelConsumption:t.fuelConsumption,engineSize:t.engineSize,rentalConditions:t.rentalConditions},t.id))}),!o&&h&&e.jsx("div",{className:p.noMatchMessageContainer,children:e.jsxs(j,{variant:"primary",className:p.noMatchMessage,children:[e.jsx(j.Heading,{className:p.noMatchMessageTitle,children:"No Results"}),"We apologize, but we couldn`t find any results matching your query.",e.jsx("hr",{}),e.jsx("p",{className:p.noMatchMessageText,children:"Please try again!"})]})}),!o&&r&&e.jsx("button",{className:p.loadMoreBtn,type:"button",title:"Load more",onClick:()=>{s()},children:"Load more"})]}),e.jsx(W,{smooth:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"60px",height:"60px",borderRadius:"8px",backgroundColor:"#0d6efd",boxShadow:"2px 2px 5px 0px rgba(0, 0, 0, 0.75)"},component:e.jsx(X.Provider,{value:{color:"#F7F7FB",size:"3.65em"},children:e.jsx("div",{children:e.jsx(G,{})})})})]})},ge=c=>c.advertsFilter.filter,Ce=()=>{const c=v(ge),o=B();return{filter:c,onChangeCarFilter:r=>{o(L({[r.target.id]:r.target.value}))},clearFilter:r=>{o(I({[r]:""}))},getFilteredAdverts:()=>{o(q())}}},pe=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Chrysler","Kia","Land"],_e="_carFilterFormContainer_1ndm1_9",xe="_offCanvasContainer_1ndm1_15",ve="_offCanvasTitle_1ndm1_20",Fe="_carFilterForm_1ndm1_9",Me="_carBrandContainer_1ndm1_45",fe="_carBrandSelectContainer_1ndm1_50",je="_carBrandSelect_1ndm1_50",Be="_selectArrowDown_1ndm1_77",we="_selectArrowUp_1ndm1_85 _selectArrowDown_1ndm1_77",be="_carPriceSelect_1ndm1_91",ye="_carMileageFromInput_1ndm1_92",Se="_carMileageToInput_1ndm1_93",Ne="_clearFilterBtn_1ndm1_98",ke="_carPriceContainer_1ndm1_119",Pe="_carPriceSelectContainer_1ndm1_130",Ae="_carMileageFromContainer_1ndm1_181",Te="_carMileageFromInputContainer_1ndm1_192",Le="_carMileageToContainer_1ndm1_222",Ie="_carMileageToInputContainer_1ndm1_227",qe="_carFilterSubmitBtn_1ndm1_258",a={carFilterFormContainer:_e,offCanvasContainer:xe,offCanvasTitle:ve,carFilterForm:Fe,carBrandContainer:Me,carBrandSelectContainer:fe,carBrandSelect:je,selectArrowDown:Be,selectArrowUp:we,carPriceSelect:be,carMileageFromInput:ye,carMileageToInput:Se,clearFilterBtn:Ne,carPriceContainer:ke,carPriceSelectContainer:Pe,carMileageFromContainer:Ae,carMileageFromInputContainer:Te,carMileageToContainer:Le,carMileageToInputContainer:Ie,carFilterSubmitBtn:qe},Re=()=>{const[c,o]=x.useState(!1),[n,m]=x.useState(!1),[s,r]=x.useState(!1),{onChangeCarFilter:h,clearFilter:i,getFilteredAdverts:C,filter:t}=Ce(),d=()=>{o(!0)},F=()=>{o(!1)},_=u=>{u==="brand"?m(!n):r(!s)},y=u=>{u.preventDefault(),C(),F()};return e.jsxs("div",{className:a.carFilterFormContainer,children:[e.jsx(V,{variant:"outline-primary",className:"d-lg-none",title:"Filter",onClick:d,style:{padding:"0px 20px",marginBottom:"25px",fontSize:"18px",letterSpacing:"0.08em",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"},children:"Filter"}),e.jsxs(M,{className:a.offCanvasContainer,show:c,onHide:F,responsive:"lg",children:[e.jsx(M.Header,{closeButton:!0,children:e.jsx(M.Title,{className:a.offCanvasTitle,children:"Filter"})}),e.jsx(M.Body,{children:e.jsxs("form",{className:a.carFilterForm,onSubmit:y,children:[e.jsxs("div",{className:a.carBrandContainer,children:[e.jsx("label",{htmlFor:"make",children:"Car brand"}),e.jsxs("div",{className:a.carBrandSelectContainer,children:[e.jsxs("select",{className:a.carBrandSelect,id:"make",name:"make",title:"Select brand",onChange:h,onClick:()=>{_("brand")},onBlur:()=>{n&&_("brand")},value:t.make,children:[e.jsx("option",{value:"",children:"Select brand"}),pe.map(u=>e.jsx("option",{className:a.brandSelectOption,value:u,children:u},u))]}),e.jsx("svg",{className:n?a.selectArrowUp:a.selectArrowDown,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#121417",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("button",{className:a.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{i("make")},children:"X"})]})]}),e.jsxs("div",{className:a.carPriceContainer,children:[e.jsx("label",{htmlFor:"rentalPrice",children:"Price  1 hour"}),e.jsxs("div",{className:a.carPriceSelectContainer,children:[e.jsxs("select",{className:a.carPriceSelect,id:"rentalPrice",name:"rentalPrice",title:"Price per hour",onChange:h,onClick:()=>{_("price")},onBlur:()=>{s&&_("price")},value:t.rentalPrice,children:[e.jsx("option",{value:""}),K.map(u=>e.jsx("option",{value:u,children:u},u))]}),e.jsx("svg",{className:s?a.selectArrowUp:a.selectArrowDown,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"#121417",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("button",{className:a.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{i("rentalPrice")},children:"X"})]})]}),e.jsxs("div",{className:a.carMileageFromContainer,children:[e.jsx("label",{htmlFor:"mileageFrom",children:"Car mileage  km"}),e.jsxs("div",{className:a.carMileageFromInputContainer,children:[e.jsx("input",{className:a.carMileageFromInput,type:"number",id:"mileageFrom",name:"mileageFrom",title:"Mileage from",onChange:h,value:t.mileageFrom,style:{width:"160px"}}),e.jsx("button",{type:"button",className:a.clearFilterBtn,title:"Clear filter",onClick:()=>{i("mileageFrom")},children:"X"})]})]}),e.jsx("div",{className:a.carMileageToContainer,children:e.jsxs("div",{className:a.carMileageToInputContainer,children:[e.jsx("input",{className:a.carMileageToInput,type:"number",id:"mileageTo",name:"mileageTo",title:"Mileage to",onChange:h,value:t.mileageTo,style:{width:"160px"},min:0}),e.jsx("button",{className:a.clearFilterBtn,type:"button",title:"Clear filter",onClick:()=>{i("mileageTo")},children:"X"})]})}),e.jsx("button",{type:"submit",className:a.carFilterSubmitBtn,title:"Search",children:"Search"})]})})]})]})},De=()=>e.jsxs("section",{children:[e.jsx(Re,{}),e.jsx(he,{})]});export{De as default};
